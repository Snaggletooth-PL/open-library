(this["webpackJsonpopen-library"]=this["webpackJsonpopen-library"]||[]).push([[0],{50:function(e,t,c){},54:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),r=c(17),i=c.n(r),o=c(19),l=c(14),j=c(38),b="FETCH_BOOK_LIST",d="CLEAR_BOOK_LIST",h=Object(l.b)({bookList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(t.bookList);case d:return[];default:return e}}}),u=Object(l.d)(h,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var m=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(W,{iconClassName:"fas fa-info-circle",headerName:"About"})})},O=c(4);c(50);var x=function(){return Object(n.jsxs)(O.a,{basename:"/open-library",children:[Object(n.jsx)(I,{}),Object(n.jsx)(f,{}),Object(n.jsx)(M,{})]})},p=c(3);c(54);var f=function(){return Object(n.jsx)("div",{className:"body container",children:Object(n.jsxs)(p.c,{children:[Object(n.jsx)(p.a,{exact:!0,path:"/",component:H}),Object(n.jsx)(p.a,{path:"/about",component:m}),Object(n.jsx)(p.a,{path:"/contact",component:C})]})})},v=c(37),g=c.n(v).a.create({baseURL:"https://openlibrary.org/"}),N=function(e){var t=e.split("/");return t[t.length-1]},y=function(e){return Boolean(e)},w=function(e){return function(e){return y(e)&&isFinite(String(e))}(e)&&e>=0};var k=function(e){var t=e.book.cover_i,c=e.book.title,s=e.book.author_name,a=e.book.first_publish_year;return Object(n.jsx)("div",{className:"book col-12 col-sm-6 col-md-4 col-lg-3 mb-4 text-center",children:Object(n.jsxs)("div",{className:"card h-100",children:[Object(n.jsx)("img",{src:w(t)?"https://covers.openlibrary.org/b/id/"+t+"-M.jpg":window.location.origin+"/open-library/images/default_cover.png",className:"card-img-top img-responsive",alt:"Book cover"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title font-weight-bold text-truncate",children:y(c)?c:"Untitled book"}),Object(n.jsx)("p",{children:y(s)?s:"Unknown author"}),Object(n.jsx)("p",{children:Object(n.jsx)("small",{children:w(a)?a:"Unknown year"})})]})]})})};c(72);var S=function(e){return Object(n.jsx)("div",{className:"m-4 p-2",children:Object(n.jsx)("div",{className:"row justify-content-center mx-auto w-100",children:e.list.map((function(e){return Object(n.jsx)(k,{book:e},e.key)}))})})};var C=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(W,{iconClassName:"fas fa-phone",headerName:"Contact"})})};var L=function(e){for(var t=[],c=0;c<e.items.length;++c)t.push(Object(n.jsx)(O.b,{className:"dropdown-item",to:"#",onClick:e.onItemClick,children:e.items[c]},c));return Object(n.jsx)("div",{id:e.id,className:"dropdown-menu "+(e.isRight?"dropdown-menu-right text-right":"dropdown-menu-left text-left"),children:t})};var B=function(e){return Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("h4",{className:"text-danger",children:e.message})})};c(73);var M=function(){return Object(n.jsx)("footer",{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row p-3",children:[Object(n.jsxs)("div",{className:"col-12 col-md-4",children:[Object(n.jsx)("h5",{className:"font-weight-bold",children:"OpenLibrary"}),Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi nec egestas nisl. Fusce vel vehicula libero, et placerat neque. Pellentesque luctus cursus volutpat. Morbi finibus lacus eros, eu gravida metus iaculis ac."})]}),Object(n.jsx)("div",{className:"col-12 col-md-4",children:Object(n.jsx)("h5",{className:"font-weight-bold",children:"Subjects"})}),Object(n.jsxs)("div",{className:"col-12 col-md-4",children:[Object(n.jsx)("h5",{className:"font-weight-bold",children:"Contact details"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"Address:"})}),Object(n.jsx)("div",{className:"col-9",children:Object(n.jsx)("p",{children:"69 Abbey Rd, London, United Kingdom"})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"Phone:"})}),Object(n.jsx)("div",{className:"col-9",children:Object(n.jsx)("p",{children:"+44 1632 960948"})})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-3",children:Object(n.jsx)("p",{className:"font-weight-bold",children:"E-mail:"})}),Object(n.jsx)("div",{className:"col-9",children:Object(n.jsx)("p",{children:"openlibrary@ol.com"})})]})]})]}),Object(n.jsx)("p",{className:"copyright-text",children:"Copyright \xa9 2020 Konrad Rembowski"})]})})};c(74);var I=function(){return Object(n.jsx)("header",{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between mx-auto",children:[Object(n.jsx)("div",{className:"px-md-5 mx-auto welcome-text",children:Object(n.jsx)("p",{className:"text-center p-1 m-0",children:"Welcome to OpenLibrary"})}),Object(n.jsx)("div",{className:"px-md-5 mx-auto",children:Object(n.jsxs)("div",{className:"p-1 text-center",children:[Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-facebook"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-linkedin"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-twitter"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-instagram"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-pinterest"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-tumblr"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-youtube"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-facebook-messenger"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-skype"})}),Object(n.jsx)(O.b,{to:"#",children:Object(n.jsx)("i",{className:"fab fa-discord"})})]})})]}),Object(n.jsx)(z,{})]})})};var D=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(W,{iconClassName:"fas fa-home",headerName:"Home"}),Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)(Q,{onSubmit:e.onSearchSubmit})}),e.bookList]})},_=c(10),E=c(11),A=c(13),P=c(12),R=c(20),T=c(18),U=function(e){return function(t){Object(A.a)(s,t);var c=Object(P.a)(s);function s(){return Object(_.a)(this,s),c.apply(this,arguments)}return Object(E.a)(s,[{key:"render",value:function(){var t=this.props,c=t.errorMessage,s=Object(T.a)(t,["errorMessage"]);return c?Object(n.jsx)(B,{message:c}):Object(n.jsx)(e,Object(R.a)({},s))}}]),s}(a.a.Component)},q=function(e){return function(t){Object(A.a)(s,t);var c=Object(P.a)(s);function s(){return Object(_.a)(this,s),c.apply(this,arguments)}return Object(E.a)(s,[{key:"render",value:function(){var t=this.props,c=t.isLoading,s=Object(T.a)(t,["isLoading"]);return c?Object(n.jsx)(J,{}):Object(n.jsx)(e,Object(R.a)({},s))}}]),s}(a.a.Component)},K=Object(l.c)(U,q)(S),X=function(e){Object(A.a)(c,e);var t=Object(P.a)(c);function c(){var e;Object(_.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={isSearching:!1,errorMessage:""},e.onSearchSubmit=function(t,c){e.setState({isSearching:y(t),errorMessage:""}),e.props.clearBookList(),y(t)&&g.get("search.json?".concat(c,"=").concat(t)).then((function(t){e.setState({isSearching:!1});var c=t.data.docs;c.length>0?e.props.fetchBookList(c):e.setState({errorMessage:"Nothing found..."})})).catch((function(){e.setState({isSearching:!1,errorMessage:"Search failed!"})}))},e}return Object(E.a)(c,[{key:"render",value:function(){return Object(n.jsx)(D,{onSearchSubmit:this.onSearchSubmit,bookList:Object(n.jsx)(K,{errorMessage:this.state.errorMessage,isLoading:this.state.isSearching,list:this.props.bookList})})}}]),c}(a.a.Component),F={fetchBookList:function(e){return{type:b,bookList:e}},clearBookList:function(){return{type:d}}},H=Object(o.b)((function(e){return{bookList:e.bookList}}),F)(X);c(75);var J=function(){return Object(n.jsx)("div",{className:"loader"})};var V=function(e){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark justify-content-between align-items-center p-0",children:[Object(n.jsxs)(O.b,{className:"logotype",to:"#",children:[Object(n.jsx)("h1",{children:"Open"}),Object(n.jsx)("h1",{children:"Library"})]}),Object(n.jsxs)("button",{className:"btn nav-button",type:"button","data-toggle":"collapse","data-target":"#navbarList","aria-expanded":"false","aria-controls":"navbarList",children:[Object(n.jsx)("i",{className:"fas fa-bars align-middle"}),Object(n.jsx)("span",{className:"d-none d-md-inline align-middle ml-2",children:"Menu"})]}),Object(n.jsx)("div",{id:"navbarList",className:"collapse navbar-collapse",children:Object(n.jsxs)("ul",{className:e.navListClassName,children:[Object(n.jsx)("li",{onClick:e.setCurrentPage,children:Object(n.jsx)(O.b,{to:"/",children:"Home"})}),Object(n.jsx)("li",{onClick:e.setCurrentPage,children:Object(n.jsx)(O.b,{to:"/about",children:"About"})}),Object(n.jsx)("li",{onClick:e.setCurrentPage,children:Object(n.jsx)(O.b,{to:"/contact",children:"Contact"})})]})})]})},z=function(e){Object(A.a)(c,e);var t=Object(P.a)(c);function c(){var e;Object(_.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={navListClassName:"nav-list",links:[]},e.setCurrentPage=function(){for(var t=N(window.location.href),c=0;c<e.state.links.length;++c)e.state.links[c].parentElement.classList.toggle("current",N(e.state.links[c].href)===t)},e}return Object(E.a)(c,[{key:"componentDidMount",value:function(){var e=this;this.setState({links:document.querySelectorAll(".".concat(this.state.navListClassName," > li > a"))},(function(){e.setCurrentPage()}))}},{key:"render",value:function(){return Object(n.jsx)(V,{navListClassName:this.state.navListClassName,setCurrentPage:this.setCurrentPage})}}]),c}(a.a.Component);var W=function(e){return Object(n.jsxs)("h2",{className:"font-weight-bold",children:[Object(n.jsx)("i",{className:e.iconClassName})," ",e.headerName]})};var G=function(e){return Object(n.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(n.jsx)("h3",{className:"text-center mb-3",children:"Search books"}),Object(n.jsxs)("div",{className:"input-group input-group-lg",children:[Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e.onInputChange}),Object(n.jsxs)("div",{className:"input-group-append",children:[Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsxs)("button",{className:"btn btn-block dropdown-toggle rounded-0 h-100 caret-off",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Search by ",Object(n.jsx)("span",{className:"font-weight-bold",children:e.searchByLabel})]}),Object(n.jsx)(L,{id:e.searchByDropdownMenuId,isRight:!0,onItemClick:e.onSearchByDropdownMenuItemClick,items:["title","author"]})]}),Object(n.jsx)("span",{className:"input-group-text",children:Object(n.jsx)("i",{className:"fas fa-search fa-flip-horizontal"})})]})]})]})},Q=function(e){Object(A.a)(c,e);var t=Object(P.a)(c);function c(){var e;Object(_.a)(this,c);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={searchPhrase:"",searchBy:"title",searchByLabel:"",searchByDropdownMenuId:"searchByDropdownMenu",searchByDropdownMenuItems:[]},e.onInputChange=function(t){e.setState({searchPhrase:t.target.value})},e.onSearchByDropdownMenuItemClick=function(t){e.setState({searchBy:t.target.textContent},(function(){e.setSearchByLabel(),e.setSearchByDropdownMenuItemActive()}))},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.searchPhrase,e.state.searchBy)},e}return Object(E.a)(c,[{key:"setSearchByLabel",value:function(){this.setState({searchByLabel:this.state.searchBy})}},{key:"setSearchByDropdownMenuItemActive",value:function(){for(var e=0;e<this.state.searchByDropdownMenuItems.length;++e){var t=this.state.searchByDropdownMenuItems[e];c=t,n=t.textContent===this.state.searchBy,c instanceof Element&&c.classList.toggle("active",n)}var c,n}},{key:"componentDidMount",value:function(){var e=this;this.setState({searchByDropdownMenuItems:document.querySelectorAll("#".concat(this.state.searchByDropdownMenuId," > a.dropdown-item"))},(function(){e.setSearchByLabel(),e.setSearchByDropdownMenuItemActive()}))}},{key:"render",value:function(){return Object(n.jsx)(G,{searchByLabel:this.state.searchByLabel,searchByDropdownMenuId:this.state.searchByDropdownMenuId,onSubmit:this.onSubmit,onInputChange:this.onInputChange,onSearchByDropdownMenuItemClick:this.onSearchByDropdownMenuItemClick})}}]),c}(a.a.Component);i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(o.a,{store:u,children:Object(n.jsx)(x,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.6f2c176a.chunk.js.map